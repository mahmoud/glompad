<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>glompad</title>

    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <link rel="stylesheet" href="./index.css" />

    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <script>
        function createObject(object, variableName){
            //Bind a variable whose name is the string variableName
            // to the object called 'object'
            let execString = variableName + " = object"
            console.log("Running '" + execString + "'");
            eval(execString)
        }
    </script>

  </head>

  <body>
    <py-config src="./pyscript_config.toml"></py-config>
    <py-script src="./glompad.py"></py-script>
    <div id="container">
      <div class="header">
          <h1>glompad</h1>
      </div>
      <div id="gp-container">
        <div id="glom-spec-container">
          <h3>Spec</h3>
          <input id="glom-spec-input" type="text" value="a.b.c" />
          <button id="run-button">Run</button>
        </div>
        <div>
          <h3>Target</h3>
          <textarea class="code-input" id="glom-target-input">{'a': {'b': {'c': 'd'}}}</textarea>
        </div>
        <div>
          <h3>Result</h3>
          <textarea class="code-input" id="glom-result-input">Result</textarea>
        </div>
      </div>
      <div id="glom-ref-container">
        <h3>Reference</h3>
        <ul>
          <li><code>glom(target, 'a.b.c')</code></li>
        </ul>
      </div>
      <div class="footer">
          <p>          
            <py-script>
              import glom
              print(f'glom version {glom.__version__}')
            </py-script>
          </p>
          <p>(c) Mahmoud Hashemi 2022</p>
      </div>
  </div>
  <div>
    <py-repl id="my-repl" auto-generate="true"> </py-repl>
  </div>
  </body>
</html>
